<svg xmlns="http://www.w3.org/2000/svg" width="867.7311191558838px" height="938.3333206176758px" class="sequence simple"><desc>WebRTC Peer Connection Flow</desc><defs><marker viewBox="0 0 5 5" markerWidth="5" markerHeight="5" orient="auto" refX="5" refY="2.5" id="markerArrowBlock"><path d="M 0 0 L 5 2.5 L 0 5 z"/></marker><marker viewBox="0 0 9.6 16" markerWidth="4" markerHeight="16" orient="auto" refX="9.6" refY="8" id="markerArrowOpen"><path d="M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"/></marker></defs><g class="title"><rect x="10" y="10" width="269.2447814941406" height="27.91666603088379" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="15" y="29.583333015441895" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="15">WebRTC Peer Connection Flow</tspan></text></g><g class="actor"><rect x="206.6341152191162" y="47.91666603088379" width="77.61067581176758" height="37.91666603088379" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="216.6341152191162" y="72.49999904632568" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="216.6341152191162">Caller</tspan></text></g><g class="actor"><rect x="206.6341152191162" y="880.416654586792" width="77.61067581176758" height="37.91666603088379" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="216.6341152191162" y="904.9999876022339" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="216.6341152191162">Caller</tspan></text></g><line x1="245.439453125" x2="245.439453125" y1="85.83333206176758" y2="880.416654586792" stroke="#000000" fill="none" style="stroke-width: 2;"/><g class="actor"><rect x="514.6809902191162" y="47.91666603088379" width="77.61067581176758" height="37.91666603088379" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="524.6809902191162" y="72.49999904632568" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="524.6809902191162">Callee</tspan></text></g><g class="actor"><rect x="514.6809902191162" y="880.416654586792" width="77.61067581176758" height="37.91666603088379" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="524.6809902191162" y="904.9999876022339" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="524.6809902191162">Callee</tspan></text></g><line x1="553.486328125" x2="553.486328125" y1="85.83333206176758" y2="880.416654586792" stroke="#000000" fill="none" style="stroke-width: 2;"/><g class="note"><rect x="10" y="105.83333206176758" width="470.87890625" height="27.91666603088379" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="15" y="125.41666507720947" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="15">localConn = new RTCPeerConnection(serverConfig);</tspan></text></g><g class="note"><rect x="120.419921875" y="153.74999809265137" width="250.0390625" height="27.91666603088379" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="125.419921875" y="173.33333110809326" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="125.419921875">create local data channel</tspan></text></g><g class="note"><rect x="182.82877731323242" y="201.66666412353516" width="125.22135162353516" height="27.91666603088379" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="187.82877731323242" y="221.24999713897705" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="187.82877731323242">create offer</tspan></text></g><g class="note"><rect x="144.423828125" y="249.58333015441895" width="202.03125" height="27.91666603088379" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="149.423828125" y="269.16666316986084" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="149.423828125">set local desc offer</tspan></text></g><g class="note"><rect x="139.62239837646484" y="297.49999618530273" width="211.6341094970703" height="27.91666603088379" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="144.62239837646484" y="317.08332920074463" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="144.62239837646484">gather ICE candidates</tspan></text></g><g class="note"><rect x="318.046875" y="345.4166622161865" width="470.87890625" height="27.91666603088379" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="323.046875" y="364.9999952316284" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="323.046875">localConn = new RTCPeerConnection(serverConfig);</tspan></text></g><g class="signal"><text x="351.455078125" y="403.9583282470703" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="351.455078125">Send offer</tspan></text><line x1="245.439453125" x2="553.486328125" y1="411.2499942779541" y2="411.2499942779541" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="note"><rect x="361.2532653808594" y="431.2499942779541" width="384.46612548828125" height="27.91666603088379" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="366.2532653808594" y="450.833327293396" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="366.2532653808594">set data channel w/ ondatachannel event</tspan></text></g><g class="note"><rect x="423.66536712646484" y="479.1666603088379" width="259.6419219970703" height="27.91666603088379" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="428.66536712646484" y="498.7499933242798" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="428.66536712646484">set remote desc with offer</tspan></text></g><g class="note"><rect x="486.07421875" y="527.0833263397217" width="134.82421875" height="27.91666603088379" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="491.07421875" y="546.6666593551636" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="491.07421875">create answer</tspan></text></g><g class="note"><rect x="423.66536712646484" y="574.9999923706055" width="259.6419219970703" height="27.91666603088379" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="428.66536712646484" y="594.5833253860474" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="428.66536712646484">set local desc with answer</tspan></text></g><g class="note"><rect x="447.66927337646484" y="622.9166584014893" width="211.6341094970703" height="27.91666603088379" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="452.66927337646484" y="642.4999914169312" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="452.66927337646484">gather ICE candidates</tspan></text></g><g class="signal"><text x="346.65364837646484" y="681.458324432373" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="346.65364837646484">Send answer</tspan></text><line x1="553.486328125" x2="245.439453125" y1="688.7499904632568" y2="688.7499904632568" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="note"><rect x="110.81706237792969" y="708.7499904632568" width="269.2447814941406" height="27.91666603088379" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="115.81706237792969" y="728.3333234786987" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="115.81706237792969">Set remote desc with answer</tspan></text></g><g class="note"><rect x="265.439453125" y="756.6666564941406" width="182.83203125" height="27.91666603088379" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="270.439453125" y="776.2499895095825" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="270.439453125">Connection opened!</tspan></text></g><g class="signal"><text x="255.439453125" y="815.2083225250244" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="255.439453125">Send message over data channel</tspan></text><line x1="245.439453125" x2="553.486328125" y1="822.4999885559082" y2="822.4999885559082" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="signal"><text x="255.439453125" y="853.1249885559082" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="255.439453125">Send message over data channel</tspan></text><line x1="553.486328125" x2="245.439453125" y1="860.416654586792" y2="860.416654586792" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g></svg>